(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,s){},19:function(e,t,s){},20:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s(0),c=s(12),a=s.n(c),i=(s(18),s(5)),r=s(6),d=s(8),h=s(7),b=s(11),l=s(2),m=(s(19),["https://3.bp.blogspot.com/-pb5g3yj0q6g/VzCw4-8goEI/AAAAAAAAAM8/uuHyZf-YgoU2PhBf_YqKG2mIoqT0cdpdwCLcB/s1600/medium.gif","https://cdn.dribbble.com/users/244516/screenshots/1798539/suplex.gif","https://cdn.dribbble.com/users/244516/screenshots/2256273/fortune_800_600.gif","https://gifimage.net/wp-content/uploads/2017/10/dudas-gif-8.gif","https://data.whicdn.com/images/296078897/original.gif","http://hbimg.b0.upaiyun.com/7117991ef86aedad956d3aac23a531b7a15f6c2023346-qZZuE4","http://www.interaction-design.eu/wp-content/uploads/2016/03/giphy.gif","https://cdn-images-1.medium.com/max/1600/1*XpMWEhQ4lNMeJUdKs_5YPQ.gif","https://media.giphy.com/media/xThuWaWh19r76NtzZ6/giphy.gif","https://cdn.dribbble.com/users/35682/screenshots/3138381/untitled-1.gif","https://viraluck.com/wp-content/uploads/2017/07/e9a137edce51f0e494d1a1e7a147f972.gif","https://blogdemedios.com.ar/download/multimedia.normal.b34c88ce1e04d844.4e59434769666174686f6e31325f6e6f726d616c2e676966.gif","https://upload-assets.vice.com/files/2015/12/31/14515873272_djs.gif?resize=320:*","https://cdn.dribbble.com/users/244516/screenshots/2378649/beldad_.gif","https://cdn.dribbble.com/users/189524/screenshots/2372289/01-cossack_v1-dribbble.gif","http://hbimg.b0.upaiyun.com/dcfc89c42a878cd554f7c55121f324ed649f3c5d107c5-9QnwAk","https://assets.lookbookspro.com/bernstein-andriulli/gs_55fc75a9-a3b4-40cf-ae20-4a3f0a771fd0.gif","https://static1.squarespace.com/static/590a1d54be6594e6a30a2284/t/591c85c9e58c62e258fc141f/1495041488353/","https://media.giphy.com/media/3ohhwxTQp8aF5W6hQk/source.gif","https://i.pinimg.com/originals/5e/d1/5b/5ed15beb479c3f6dc9d8aa09fba6ea93.gif","https://cdn.dribbble.com/users/244516/screenshots/2408931/santa_fly_.gif","https://cdn.dribbble.com/users/244516/screenshots/3332372/running_on_empty_eran_mendel_dribbble_gif.gif","https://cdn.dribbble.com/users/1191884/screenshots/3734686/skater02.gif","https://cdn.dribbble.com/users/244516/screenshots/3483324/2017_new_.gif","https://inmarket.com/wp-content/uploads/2017/03/Adweek_BrandShare_Eran_Mendel_Order_Drink.gif","https://cdn.dribbble.com/users/985395/screenshots/2423047/santa_fitness.gif","https://cdn.dribbble.com/users/244516/screenshots/1812685/untitled-2.gif","https://cdn.dribbble.com/users/244516/screenshots/2267050/shana_tova_loop_english.gif","https://www.adweek.com/files/2016_Jul/Adweek_BrandShare_Eran_Mendel_Olympics_Eyewear.gif","https://cdn.dribbble.com/users/244516/screenshots/1938406/year_of_the_sheep_2015.gif","https://cdn.dribbble.com/users/244516/screenshots/1938406/year_of_the_sheep_2015.gif","https://media.giphy.com/media/l2JhsZqcnrJoEVn4Q/source.gif","https://cdn.dribbble.com/users/244516/screenshots/2209729/cat_2.gif","https://cdn.dribbble.com/users/244516/screenshots/1476510/moosa_.gif","https://media3.giphy.com/media/Yd15ebqDBoA7e/giphy.gif?cid=6104955e5bdb1884585079692e8bcfcc","https://i.graphicmama.com/blog/wp-content/uploads/2016/12/06092001/swing.gif","https://cdn.dribbble.com/users/244516/screenshots/1855845/santa_2_.gif","https://i.pinimg.com/originals/71/3d/66/713d66ea3732ae18e6bfb8861c689f30.gif","https://lh3.googleusercontent.com/-7eNG5nTv3h0/WtWTrHdXvZI/AAAAAAAALKw/8CWITbQKfSwWlcDEDjhbU3edlfVBv3vcQCJoC/w530-h398-n/1guitar_.gif","https://cdn.dribbble.com/users/285475/screenshots/2768835/ramen.gif","https://cdn.dribbble.com/users/502620/screenshots/4424982/pizza-pizza-alt-1.gif","https://media.giphy.com/media/Ec8692cTyljWg/giphy.gif","https://steamusercontent-a.akamaihd.net/ugc/270589293986695029/0A999675D32EBBC4FD1E8340300C332794F5E19F/","https://media1.giphy.com/media/12H98H99MZ0k4E/giphy.gif?cid=6104955e5bdb19463548476d45f1917f","https://cdn.dribbble.com/users/488076/screenshots/3393959/super-hero-b_drible.gif","https://mir-s3-cdn-cf.behance.net/projects/404/15534565.5489b44560af5.png","https://66.media.tumblr.com/191a91f30208d6a0b38ab78a13eb414c/tumblr_o6aj1m5EHl1ubrc4to1_r1_500.gif","https://cdn.dribbble.com/users/412064/screenshots/2341768/superhero.gif","https://cdn.dribbble.com/users/634508/screenshots/2068671/madmax.gif"]);var u=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e))._getRandomGif=function(){var e=Math.floor(Math.random()*m.length);n.setState({currentGifUrl:m[e]})},n._connectToServer=function(){var e=window.location.origin.replace(/^http/,"ws"),t=new WebSocket(e);t.onerror=function(e){console.log("err",e),n.setState({websocketError:!0})},t.onopen=function(e){console.log("err",e),n.setState({websocketError:!1})},t.addEventListener("message",n._handleMessage)},n._handleMessage=function(e){if(console.log("message",e),"connection established."!==e.data){var t=JSON.parse(e.data);n.setState({total:t.total,last_donation:t.donation}),n._getRandomGif()}},n.state={total:0,last_donation:null,websocketError:!1,currentGifUrl:null},n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this._connectToServer()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h2",{children:"Funds raised for Irina's Birthday"}),Object(n.jsxs)("h1",{children:["$",(e=this.state.total,e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))]}),this.state.last_donation&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{children:["Thanks ",this.state.last_donation.name||"Anonymous Do-gooder","!"]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:this.state.currentGifUrl,alt:""})})]}),this.state.websocketError&&Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Websocket Error"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:this._connectToServer,children:"Try to connect again"})]})]});var e}}]),s}(o.Component),p=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(l.a,{})})},g=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).handleNameChange=function(e){n.setState({name:e.target.value})},n.handleAmountChange=function(e){n.setState({amount:e.target.value})},n.onSubmit=function(e){e.preventDefault(),console.log("ON CLICK",e),console.log("this.state",n.state);var t={name:n.state.name,amount:n.state.amount};n.setState({showForm:!1,sending:!0}),fetch("/donations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){console.log("Success:",e),n.setState({showForm:!1,sending:!1,name:"",amount:""})})).catch((function(e){return console.error("Error:",e)}))},console.log("HELLLLOO"),n.state={name:"",amount:"",sending:!1,sent:!0,showForm:!0},n}return Object(r.a)(s,[{key:"render",value:function(){var e,t=this;return this.state.showForm?e=Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:["Name: ",Object(n.jsx)("input",{name:"name",type:"text",value:this.state.name,onChange:this.handleNameChange}),Object(n.jsx)("br",{}),"Amount: ",Object(n.jsx)("input",{name:"amount",type:"number",value:this.state.amount,onChange:this.handleAmountChange}),Object(n.jsx)("button",{type:"submit",children:"Submit"})]}):this.state.sending?e=Object(n.jsx)("div",{children:"Sending..."}):(setTimeout((function(){t.setState({showForm:!0})}),2e3),e=Object(n.jsx)("div",{children:"Thanks for the donation!"})),Object(n.jsxs)("div",{className:"donation-form",children:[Object(n.jsx)("h1",{children:"Add a Donation"}),e]})}}]),s}(o.Component),f=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(n.jsx)(b.a,{children:Object(n.jsx)(l.d,{children:Object(n.jsxs)(l.b,{path:"/",element:Object(n.jsx)(p,{}),children:[Object(n.jsx)(l.b,{index:!0,element:Object(n.jsx)(u,{})}),Object(n.jsx)(l.b,{path:"add",element:Object(n.jsx)(g,{})})]})})})}}]),s}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(n.jsx)(f,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.923745a5.chunk.js.map