{"version":3,"sources":["Components/Ticker/gifurls.js","Components/Ticker/index.js","Components/Layout/index.js","Components/AddDonation/index.js","App.js","serviceWorker.js","index.js"],"names":["gifs","Ticker","props","_getRandomGif","randomIndex","Math","floor","random","urls","length","setState","currentGifUrl","_connectToServer","ws","WebSocket","onerror","err","console","log","websocketError","onopen","addEventListener","_handleMessage","message","data","JSON","parse","total","last_donation","donation","state","this","className","name","src","alt","onClick","Component","Layout","AddDonation","handleNameChange","event","target","value","handleAmountChange","amount","onSubmit","e","preventDefault","formData","showForm","sending","fetch","method","headers","body","stringify","then","response","catch","error","sent","content","type","onChange","setTimeout","App","path","element","index","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9d196fed.chunk.js","sourcesContent":["const gifs = [\n  \"https://3.bp.blogspot.com/-pb5g3yj0q6g/VzCw4-8goEI/AAAAAAAAAM8/uuHyZf-YgoU2PhBf_YqKG2mIoqT0cdpdwCLcB/s1600/medium.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/1798539/suplex.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/2256273/fortune_800_600.gif\",\n  \"https://gifimage.net/wp-content/uploads/2017/10/dudas-gif-8.gif\",\n  \"https://data.whicdn.com/images/296078897/original.gif\",\n  \"http://hbimg.b0.upaiyun.com/7117991ef86aedad956d3aac23a531b7a15f6c2023346-qZZuE4\",\n  \"http://www.interaction-design.eu/wp-content/uploads/2016/03/giphy.gif\",\n  \"https://cdn-images-1.medium.com/max/1600/1*XpMWEhQ4lNMeJUdKs_5YPQ.gif\",\n  \"https://media.giphy.com/media/xThuWaWh19r76NtzZ6/giphy.gif\",\n  \"https://cdn.dribbble.com/users/35682/screenshots/3138381/untitled-1.gif\",\n  \"https://viraluck.com/wp-content/uploads/2017/07/e9a137edce51f0e494d1a1e7a147f972.gif\",\n  \"https://blogdemedios.com.ar/download/multimedia.normal.b34c88ce1e04d844.4e59434769666174686f6e31325f6e6f726d616c2e676966.gif\",\n  \"https://upload-assets.vice.com/files/2015/12/31/14515873272_djs.gif?resize=320:*\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/2378649/beldad_.gif\",\n  \"https://cdn.dribbble.com/users/189524/screenshots/2372289/01-cossack_v1-dribbble.gif\",\n  \"http://hbimg.b0.upaiyun.com/dcfc89c42a878cd554f7c55121f324ed649f3c5d107c5-9QnwAk\",\n  \"https://assets.lookbookspro.com/bernstein-andriulli/gs_55fc75a9-a3b4-40cf-ae20-4a3f0a771fd0.gif\",\n  \"https://static1.squarespace.com/static/590a1d54be6594e6a30a2284/t/591c85c9e58c62e258fc141f/1495041488353/\",\n  \"https://media.giphy.com/media/3ohhwxTQp8aF5W6hQk/source.gif\",\n  \"https://i.pinimg.com/originals/5e/d1/5b/5ed15beb479c3f6dc9d8aa09fba6ea93.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/2408931/santa_fly_.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/3332372/running_on_empty_eran_mendel_dribbble_gif.gif\",\n  \"https://cdn.dribbble.com/users/1191884/screenshots/3734686/skater02.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/3483324/2017_new_.gif\",\n  \"https://inmarket.com/wp-content/uploads/2017/03/Adweek_BrandShare_Eran_Mendel_Order_Drink.gif\",\n  \"https://cdn.dribbble.com/users/985395/screenshots/2423047/santa_fitness.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/1812685/untitled-2.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/2267050/shana_tova_loop_english.gif\",\n  \"https://www.adweek.com/files/2016_Jul/Adweek_BrandShare_Eran_Mendel_Olympics_Eyewear.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/1938406/year_of_the_sheep_2015.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/1938406/year_of_the_sheep_2015.gif\",\n  \"https://media.giphy.com/media/l2JhsZqcnrJoEVn4Q/source.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/2209729/cat_2.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/1476510/moosa_.gif\",\n  \"https://media3.giphy.com/media/Yd15ebqDBoA7e/giphy.gif?cid=6104955e5bdb1884585079692e8bcfcc\",\n  \"https://i.graphicmama.com/blog/wp-content/uploads/2016/12/06092001/swing.gif\",\n  \"https://cdn.dribbble.com/users/244516/screenshots/1855845/santa_2_.gif\",\n  \"https://i.pinimg.com/originals/71/3d/66/713d66ea3732ae18e6bfb8861c689f30.gif\",\n  \"https://lh3.googleusercontent.com/-7eNG5nTv3h0/WtWTrHdXvZI/AAAAAAAALKw/8CWITbQKfSwWlcDEDjhbU3edlfVBv3vcQCJoC/w530-h398-n/1guitar_.gif\",\n  \"https://cdn.dribbble.com/users/285475/screenshots/2768835/ramen.gif\",\n  \"https://cdn.dribbble.com/users/502620/screenshots/4424982/pizza-pizza-alt-1.gif\",\n  \"https://media.giphy.com/media/Ec8692cTyljWg/giphy.gif\",\n  \"https://steamusercontent-a.akamaihd.net/ugc/270589293986695029/0A999675D32EBBC4FD1E8340300C332794F5E19F/\",\n  \"https://media1.giphy.com/media/12H98H99MZ0k4E/giphy.gif?cid=6104955e5bdb19463548476d45f1917f\",\n  \"https://cdn.dribbble.com/users/488076/screenshots/3393959/super-hero-b_drible.gif\",\n  \"https://mir-s3-cdn-cf.behance.net/projects/404/15534565.5489b44560af5.png\",\n  \"https://66.media.tumblr.com/191a91f30208d6a0b38ab78a13eb414c/tumblr_o6aj1m5EHl1ubrc4to1_r1_500.gif\",\n  \"https://cdn.dribbble.com/users/412064/screenshots/2341768/superhero.gif\",\n  \"https://cdn.dribbble.com/users/634508/screenshots/2068671/madmax.gif\",\n]\n\nexport default gifs;","import React, { Component } from 'react';\nimport urls from './gifurls';\n\nexport default class Ticker extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total: 0,\n      last_donation: null,\n      websocketError: false,\n      currentGifUrl: null\n    }\n  }\n\n  _getRandomGif = () => {\n    const randomIndex = Math.floor(Math.random() * urls.length);\n    this.setState({\n      currentGifUrl: urls[randomIndex],\n    })\n  }\n\n  _connectToServer = () => {\n    let ws = new WebSocket('ws://localhost:8080');\n    ws.onerror = (err) => {\n      console.log('err', err);\n      this.setState({\n        websocketError: true,\n      })\n    };\n    ws.onopen = (err) => {\n      console.log('err', err);\n      this.setState({\n        websocketError: false,\n      })\n    };\n    // Event listener for recieving websocket messages from the server\n    ws.addEventListener('message', this._handleMessage );\n  }\n  _handleMessage = (message) => {\n    console.log('message', message);\n    const data = JSON.parse(message.data);\n    this.setState({\n      total: data.total,\n      last_donation: data.donation\n    })\n    this._getRandomGif();\n  }\n  componentDidMount() {\n    this._connectToServer();\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <h2>Funds raised for The Joyful Heart Foundation - TEST</h2>\n        <h1>${this.state.total}</h1>\n\n        {this.state.last_donation &&\n          <div>\n            <span>Thanks {this.state.last_donation.name || 'Anonymous Do-gooder'}!</span>\n            <br/><br/>\n            <div>\n              <img src={this.state.currentGifUrl} alt=\"\"/>\n            </div>\n          </div>\n        }\n\n          {this.state.websocketError &&\n          <div>\n            <span>Websocket Error</span><br/>\n            <button onClick={this._connectToServer}>Try to connect again</button>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import { Outlet } from \"react-router-dom\";\n\nconst Layout = () => {\n  return (\n    <>\n      ~~~Layout~~~\n      <Outlet />\n    </>\n  )\n};\n\nexport default Layout;","import React, {Component} from 'react';\n\nexport default class AddDonation extends Component {\n  constructor(props) {\n    super(props);\n    console.log('HELLLLOO')\n    this.state = {\n      name: '',\n      amount: '',\n      sending: false,\n      sent: true,\n      showForm: true\n    }\n  }\n  handleNameChange = (event) => {\n    this.setState({name: event.target.value});\n  }\n  handleAmountChange = (event) => {\n    this.setState({amount: event.target.value});\n  }\n  onSubmit = (e) => {\n    e.preventDefault();\n    console.log('ON CLICK', e);\n      console.log('this.state', this.state);\n    const formData = {\n      name: this.state.name,\n      amount: this.state.amount\n    }\n    this.setState({\n      showForm: false,\n      sending: true\n    })\n    fetch('/donations', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(formData)\n    })\n    .then(response => {\n      console.log('Success:', response)\n      this.setState({\n        showForm: false,\n        sending: false,\n        name: '',\n        amount: ''\n      })\n    })\n    .catch(error => console.error('Error:', error));\n  }\n\n  render() {\n\n    let content;\n      if (this.state.showForm) {\n        content = (\n          <form onSubmit={this.onSubmit}>\n            Name: <input name=\"name\" type=\"text\" value={this.state.name} onChange={this.handleNameChange} />\n            Amount: <input name=\"amount\" type=\"number\" value={this.state.amount} onChange={this.handleAmountChange} />\n            <button type=\"submit\">Submit</button>\n          </form>\n        )\n      } else if (this.state.sending) {\n        content = (\n          <div>Sending...</div>\n        );\n      } else {\n        setTimeout(() => {\n          this.setState({\n            showForm: true\n          })\n        }, 2000);\n        content = (\n          <div>Thanks for the donation!</div>\n        );\n      }\n    return (\n      <div>\n        <h1>Add a Donation</h1>\n          {content}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport './App.css';\nimport Ticker from './Components/Ticker';\nimport Layout from './Components/Layout';\nimport AddDonation from './Components/AddDonation';\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Layout />} >\n            <Route index element={<Ticker />} />  \n            <Route path=\"add\" element={<AddDonation />} />\n          </Route>\n        </Routes>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}